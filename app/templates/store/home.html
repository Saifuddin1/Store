{% extends "layout/customer_base.html" %}

{% block title %}Home | My Store{% endblock %}

{% block content %}

<div class="container my-4">

  <!-- ================= BANNER ================= -->
  <section class="banner-section mb-5">
    <div class="row banner-box shadow-sm rounded-4 overflow-hidden">

      <div class="col-md-6 p-0">
        <img src="{{ url_for('static', filename='images/banner_img.jpg') }}"
             class="banner-img"
             alt="Saree Collection">
      </div>

      <div class="col-md-6 p-5">
        <span class="banner-badge">New Collection</span>

        <h2 class="banner-title mt-3">
          Elegant Sarees <br>
          <span>Everyday Fashion</span>
        </h2>

        <p class="banner-sub mt-3">
          Handpicked sarees and premium clothing.
        </p>

        <a href="{{ url_for('main.products') }}"
           class="btn btn-outline-dark mt-3">
          Shop Now
        </a>
      </div>

    </div>
  </section>

  <!-- ================= HEADER ================= -->
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h3 class="mb-0">Latest Products</h3>
    <a href="{{ url_for('main.products') }}"
       class="btn btn-outline-secondary btn-sm">
      View All
    </a>
  </div>

  {% if products %}

  <!-- ================= PRODUCTS ================= -->
  <div class="slider-wrapper">

    <button class="slider-btn left" onclick="slideLeft()">&#8249;</button>

    <div class="slider-track" id="productSlider">
      {% for p in products %}
        <div class="slider-item">
          {% include "store/_product_card.html" %}
        </div>
      {% endfor %}
    </div>

    <button class="slider-btn right" onclick="slideRight()">&#8250;</button>

  </div>

  {% else %}
    <div class="alert alert-info">No products available.</div>
  {% endif %}

</div>

<script>
const slider = document.getElementById("productSlider");

function getCardWidth() {
  const card = slider.querySelector(".slider-item");
  return card ? card.offsetWidth + 16 : 0;
}

function slideLeft() {
  slider.scrollBy({ left: -getCardWidth(), behavior: "smooth" });
}

function slideRight() {
  slider.scrollBy({ left: getCardWidth(), behavior: "smooth" });
}
</script>

{% endblock %}
