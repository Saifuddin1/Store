{% extends "layout/customer_base.html" %}

{% block title %}Home | My Store{% endblock %}

{% block content %}

<div class="container my-4">
<!-- ======================== BANNER SECTION ======================= -->
<section class="banner-section mb-5">
  <div class="container">
    <div class="row align-items-center banner-box shadow-sm rounded-4 overflow-hidden">

      <!-- LEFT IMAGE -->
      <div class="col-md-6 p-0">
        <img src="{{ url_for('static', filename='images/banner_img.jpg') }}"
             class="banner-img"
             alt="Saree Collection">
      </div>

      <!-- RIGHT TEXT -->
      <div class="col-md-6 p-5">
        <span class="banner-badge">New Collection</span>

        <h2 class="banner-title mt-3">
          Elegant Sarees <br>
          <span>Everyday Fashion</span>
        </h2>

        <p class="banner-sub mt-3">
          Handpicked sarees, stylish t-shirts, and premium clothing
          crafted for comfort and everyday elegance.
        </p>

        <div class="mt-4">
          
          <a href="{{ url_for('main.products') }}" class="btn btn-outline-dark px-4">
            Shop Now
          </a>
        </div>
      </div>

    </div>
  </div>
</section>





  <!-- ================= HEADER ================= -->
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h3 class="mb-0">Latest Products</h3>
    <a href="{{ url_for('main.products') }}"
       class="btn btn-outline-secondary btn-sm">
      View All Products
    </a>
  </div>

  {% if products %}

  <!-- ================= SLIDER ================= -->
  <div class="slider-wrapper">

    <!-- LEFT -->
    <button class="slider-btn left" onclick="slideLeft()">&#8249;</button>

    <!-- TRACK -->
    <div class="slider-track" id="productSlider">

      {% for p in products %}
      <div class="slider-item">
        {% include "store/_product_card.html" %}
      </div>
      {% endfor %}

    </div>

    <!-- RIGHT -->
    <button class="slider-btn right" onclick="slideRight()">&#8250;</button>

  </div>

  {% else %}
    <div class="alert alert-info">No products available.</div>
  {% endif %}

</div>

<!-- ================= STYLES ================= -->
<style>
/* Slider wrapper */
.slider-wrapper {
  position: relative;
}

/* Track */
.slider-track {
  display: flex;
  gap: 16px;
  overflow-x: auto;
  scroll-behavior: smooth;
  padding: 10px 0;
}

.slider-track::-webkit-scrollbar {
  display: none;
}

/* EXACTLY 4 ITEMS */
.slider-item {
  flex: 0 0 calc((100% - 48px) / 4); /* 3 gaps × 16px */
}

/* Buttons */
.slider-btn {
  position: absolute;
  top: 45%;
  transform: translateY(-50%);
  background: #fff;
  border: none;
  font-size: 28px;
  padding: 6px 14px;
  box-shadow: 0 2px 10px rgba(0,0,0,.25);
  cursor: pointer;
  z-index: 10;
}

.slider-btn.left { left: -14px; }
.slider-btn.right { right: -14px; }

/* Hover */
.product-card:hover {
  transform: translateY(-6px);
  transition: 0.2s ease;
}

/* Tablet → 2 cards */
@media (max-width: 992px) {
  .slider-item {
    flex: 0 0 calc((100% - 16px) / 2);
  }
}

/* Mobile → swipe */
@media (max-width: 576px) {
  .slider-item {
    flex: 0 0 80%;
  }
  .slider-btn {
    display: none;
  }
}


.banner-box {
  background: #091b37;
}

/* Badge */
.banner-badge {
  display: inline-block;
  color: #fff;
  font-size: 0.75rem;
  padding: 6px 12px;
  border-radius: 20px;
  letter-spacing: 0.4px;
  background: #6c63ff;
  font-weight: 500;
}

/* Title */
.banner-title {
  font-size: 2rem;
  font-weight: 700;
  line-height: 1.2;
}

.banner-title span {
  color: #6c63ff;
}

/* Sub text */
.banner-sub {
  color: #555;
  max-width: 420px;
  font-size: 0.95rem;
}


/* Right text area background */
.banner-box .col-md-6.p-5 {
  background: linear-gradient(
    135deg,
    #f9f7ff 0%,
    #ffffff 60%
  );
  position: relative;
}

.banner-box .col-md-6.p-5::before {
  content: "";
  position: absolute;
  left: 0;
  top: 10%;
  width: 4px;
  height: 80%;
  background: linear-gradient(180deg, #6c63ff, #ffb703);
  border-radius: 4px;
}


</style>

<!-- ================= JS ================= -->
<script>
const slider = document.getElementById("productSlider");

function getCardWidth() {
  const card = slider.querySelector(".slider-item");
  const gap = 16; // must match CSS gap
  return card.offsetWidth + gap;
}

function slideLeft() {
  slider.scrollBy({ left: -getCardWidth(), behavior: "smooth" });
}

function slideRight() {
  slider.scrollBy({ left: getCardWidth(), behavior: "smooth" });
}
</script>

{% endblock %}
